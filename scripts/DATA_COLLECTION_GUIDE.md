# 家賃データ収集ガイド

## 📋 概要

このガイドでは、RentScopeで使用する家賃データを収集する方法を説明します。

## ⚠️ 重要な注意事項

### スクレイピングについて

多くの不動産サイトは利用規約でスクレイピングを**禁止**しています:
- ❌ SUUMO: 利用規約で禁止
- ❌ HOME'S: 利用規約で禁止
- ❌ at home: 利用規約で禁止

### 推奨される方法

✅ **手動でデータを収集**
✅ **公式APIを使用**(利用可能な場合)
✅ **公開統計データを使用**(e-Stat等)

---

## 🎯 推奨: 手動データ収集

### ステップ1: データソースにアクセス

以下のサイトから家賃相場を確認:

1. **HOME'S 家賃相場**
   - URL: https://www.homes.co.jp/chintai/tokyo/price/
   - 都道府県を選択 → 市区町村を選択
   - 間取り別の相場が表示される

2. **SUUMO 家賃相場**
   - URL: https://suumo.jp/chintai/soba/
   - エリアを選択して相場を確認

3. **at home 家賃相場**
   - URL: https://www.athome.co.jp/chintai/souba/
   - 都道府県別の相場を確認

### ステップ2: データを記録

スプレッドシート(Excel, Google Sheets)に記録:

| 都道府県 | エリア | ワンルーム | 1LDK | 2LDK | 3LDK | 平均 |
|---------|--------|-----------|------|------|------|------|
| 東京都   | 港区   | 120,000   | 180,000 | 250,000 | 350,000 | 150,000 |
| 東京都   | 渋谷区 | 100,000   | 150,000 | 200,000 | 280,000 | 120,000 |

### ステップ3: JSONに変換

#### 方法1: Pythonスクリプトを使用

```bash
cd /Users/masamizu/antigravityApp/Products/RentScope/scripts
python3 data-entry-helper.py
```

対話式でデータを入力できます。

#### 方法2: 手動でJSONを作成

`data/prefectures.json`を編集:

```json
[
  {
    "id": 1,
    "name": "東京都",
    "slug": "tokyo",
    "region": "関東",
    "averageRent": 85000,
    "areas": [
      {
        "name": "港区",
        "averageRent": 150000,
        "rentByRoomType": {
          "oneRoom": 120000,
          "oneLDK": 180000,
          "twoLDK": 250000,
          "threeLDK": 350000
        }
      }
    ]
  }
]
```

---

## 📊 必要なデータ項目

### 都道府県レベル

- ✅ 都道府県名
- ✅ スラッグ(URL用、例: tokyo)
- ✅ 地方(関東、関西など)
- ✅ 平均家賃
- ✅ 緯度経度(Google Mapsで取得可能)

### エリアレベル(市区町村)

- ✅ エリア名
- ✅ 平均家賃
- ✅ 最低家賃
- ✅ 最高家賃
- ✅ 間取り別家賃(ワンルーム、1LDK、2LDK、3LDK)
- ✅ 最寄り駅
- ✅ 緯度経度

---

## 🛠️ 提供されているツール

### 1. JSONテンプレート
`data/prefectures.json` - サンプルデータ付き

### 2. TypeScriptスクリプト
`scripts/collect-rent-data.ts` - データ検証・保存

### 3. Pythonヘルパー
`scripts/data-entry-helper.py` - 対話式データ入力

---

## 📝 データ収集の優先順位

### 優先度: 高(最初に収集)

1. **東京都**(23区 + 主要市)
2. **大阪府**(大阪市 + 主要市)
3. **神奈川県**(横浜市、川崎市)
4. **愛知県**(名古屋市)
5. **福岡県**(福岡市)

### 優先度: 中(次に収集)

6. **埼玉県**
7. **千葉県**
8. **兵庫県**
9. **北海道**
10. **京都府**

### 優先度: 低(余裕があれば)

残りの37都道府県

---

## 🎯 最小限のMVPデータ

**最低限必要なデータ**:
- 5都道府県
- 各都道府県に3-5エリア
- 合計15-25エリア

これだけでもMVPとして機能します!

---

## 💡 ヒント

### 緯度経度の取得方法

1. Google Mapsで場所を検索
2. 右クリック → 「この場所について」
3. 緯度経度が表示される

### データの検証

```bash
cd /Users/masamizu/antigravityApp/Products/RentScope
npm run type-check
```

TypeScriptの型チェックでデータの整合性を確認できます。

---

## 📞 サポート

データ収集で困ったことがあれば、お気軽にお声がけください!
- スプレッドシートからJSONへの変換スクリプト作成
- データの検証
- 追加のツール作成

など、サポートいたします。
